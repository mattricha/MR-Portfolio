{"version":3,"sources":["script.js"],"names":["jQuery","document","ready","$","change_title","title","fadeOut","html","fadeIn","window","history","pushState","goToTop","animate","scrollTop","showSection","sectionID","cat","page","gridFilterID","$grid","load_posts","titleHeader","attr","toggleDropdown","mobileDropdown","removeClass","addClass","location","origin","protocol","hostname","port","homepage","loading","$window","masonry","columnWidth","gutter","itemSelector","percentPosition","ajax","type","data","numPosts","pageNumber","catPosts","dataType","url","beforeSend","success","$data","length","imagesLoaded","append","remove","error","jqXHR","textStatus","errorThrown","alert","href","scroll","content_offset","offset","height","top","click","this","section","search","split","undefined","$gridSearch","headerMobile","event","stopPropagation","e","is","target","test","navigator","userAgent","vendor","opera","css","skrollr","init","forceHeight"],"mappings":"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","file":"script.min.js","sourcesContent":["jQuery(document).ready(function ($) {\n\n    // IE tweek\n    if (!window.location.origin) {\n      window.location.origin = window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port: '');\n    }\n\n    var homepage = window.location.origin + \"/\";\n    var page = 1;\n    var loading = true;\n    var $window = $(window);\n    var titleHeader = '/ portfolio';\n    var gridFilterID = '';\n    var rightMenuOpen = false;\n    var cat = null;\n    var $grid = $('#masonry-grid');\n    var mobileDropdown = false;\n\n    $grid.masonry({\n        columnWidth: '.grid-sizer',\n        gutter: '.gutter-sizer',\n        itemSelector: '.grid-item',\n        percentPosition: true\n    });\n\n    var load_posts = function(){\n        $.ajax({\n            type       : \"GET\",\n            data       : {numPosts : 6, pageNumber: page, catPosts : cat},\n            dataType   : \"html\",\n            url        : \"/wp-content/themes/MR-Portfolio/loopHandler.php\",\n            beforeSend : function(){\n                if(page != 1){\n                    $(\"#temp_load\").fadeIn();\n                }\n            },\n            success    : function(data){\n                $data = $(data);\n                if($data.length){\n                    $data.imagesLoaded( function() {\n                        $grid.masonry()\n                        .append($data)\n                        .masonry('appended', $data)\n                        .masonry();\n                    });\n                    $(\"#temp_load\").fadeOut();\n                    loading = false;\n                } else {\n                    $(\"#temp_load\").remove();\n                }\n            },\n            error     : function(jqXHR, textStatus, errorThrown) {\n                $(\"#temp_load\").remove();\n                alert(jqXHR + \" :: \" + textStatus + \" :: \" + errorThrown);\n            }\n        });\n    };\n\n    // load more masonry posts on scroll\n    if (window.location.href == homepage){\n        $window.scroll(function() {\n            var content_offset = $grid.offset();\n            if(!loading && ($window.scrollTop() +\n                $window.height()) > ($grid.scrollTop() +\n                $grid.height() + content_offset.top)) {\n                    loading = true;\n                    page++;\n                    load_posts();\n            }\n        });\n    }\n\n    // back to top of page icon\n    $window.scroll(function() {\n        if ($(window).scrollTop() > 1000) {\n            $(\"#topPage\").fadeIn();\n        }\n        else{\n            $(\"#topPage\").fadeOut();\n        }\n    });\n\n    // events\n\n    $(\"#topPage\").click( function() {\n        goToTop();\n    });\n\n    $(\".grid-filter\").click( function() {\n        if(window.location.href != homepage){\n            window.location.href = homepage + \"?c=\" + $(this).attr('value');\n        }\n        else{\n            cat = $(this).attr('value');\n            page = 1;\n            $grid.html('');\n            load_posts();\n            change_title($(this).attr('data-title'));\n        }\n        goToTop();\n    });\n\n    // functions\n\n    function change_title(title){\n        $('.header-title').fadeOut('fast', function(){$('.header-title').html(title);});\n        $('.header-title').fadeIn('fast');\n        window.history.pushState(\"object or string\", \"Title\", \"/\");\n    }\n\n    function goToTop(){\n        $(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\n    }\n\n    function showSection(sectionID){\n        cat = sectionID;\n        page = 1;\n        gridFilterID = '#grid-filter-' + cat;\n        $grid.html('');\n        load_posts();\n        titleHeader = $(gridFilterID).attr('data-title');\n        change_title(titleHeader);\n    }\n\n    function toggleDropdown(){\n        if(mobileDropdown){\n            $('.header-dropdown').removeClass('open');\n        }else{\n            $('.header-dropdown').addClass('open');\n        }\n        mobileDropdown = !mobileDropdown;\n    }\n\n    // check URL arguments\n    var urlArg = \"\";\n    var section = location.search.split('c=')[1];\n    if(section !== undefined){\n        showSection(section);\n    }\n    else{\n        $('.header-title').html(titleHeader);\n        load_posts();\n    }\n\n    //search page\n    var $gridSearch = $('#masonry-search-grid');\n\n    $gridSearch.masonry({\n        columnWidth: '.grid-sizer',\n        gutter: '.gutter-sizer',\n        itemSelector: '.grid-item',\n        percentPosition: true\n    });\n\n    // mobile header dropdown menu toggle\n    $('.toggle-dropdown').click( function(){\n        toggleDropdown();\n    });\n\n    var headerMobile = $(\".header-mobile\");\n    headerMobile.click( function(event){\n        event.stopPropagation();\n    });\n\n    $(\"body\").click( function(e){\n        if(mobileDropdown && !headerMobile.is(e.target)){\n          toggleDropdown();\n        }\n      }\n    );\n\n    // skrollr (parallax scrolling)\n    if(!(/Android|iPhone|iPad|iPod|BlackBerry|Windows Phone/i).test(navigator.userAgent || navigator.vendor || window.opera)){\n        skrollr.init({\n            forceHeight: false\n        });\n    }else{\n        $('.bcg').css('background-position','center center');\n    }\n});\n"]}