{"version":3,"sources":["script.js"],"names":["jQuery","document","ready","$","change_title","title","fadeOut","html","fadeIn","window","history","pushState","goToTop","animate","scrollTop","showSection","sectionID","cat","page","gridFilterID","$grid","load_posts","titleHeader","attr","toggleDropdown","mobileDropdown","removeClass","addClass","location","origin","protocol","hostname","port","homepage","loading","$window","masonry","columnWidth","gutter","itemSelector","percentPosition","ajax","type","data","numPosts","pageNumber","catPosts","dataType","url","beforeSend","success","$data","length","imagesLoaded","append","remove","error","jqXHR","textStatus","errorThrown","alert","href","scroll","content_offset","offset","height","top","click","this","section","search","split","undefined","$gridSearch","headerMobile","event","stopPropagation","e","is","target"],"mappings":"AAAAA,OAAOC,UAAUC,MAAM,SAAUC,GAwG7B,QAASC,GAAaC,GAClBF,EAAE,iBAAiBG,QAAQ,OAAQ,WAAWH,EAAE,iBAAiBI,KAAKF,KACtEF,EAAE,iBAAiBK,OAAO,QAC1BC,OAAOC,QAAQC,UAAU,mBAAoB,QAAS,KAG1D,QAASC,KACLT,EAAE,cAAcU,SAAUC,UAAW,GAAK,QAG9C,QAASC,GAAYC,GACjBC,EAAMD,EACNE,EAAO,EACPC,EAAe,gBAAkBF,EACjCG,EAAMb,KAAK,IACXc,IACAC,EAAcnB,EAAEgB,GAAcI,KAAK,cACnCnB,EAAakB,GAGjB,QAASE,KACFC,EACCtB,EAAE,oBAAoBuB,YAAY,QAElCvB,EAAE,oBAAoBwB,SAAS,QAEnCF,GAAkBA,EA/HjBhB,OAAOmB,SAASC,SACnBpB,OAAOmB,SAASC,OAASpB,OAAOmB,SAASE,SAAW,KAAOrB,OAAOmB,SAASG,UAAYtB,OAAOmB,SAASI,KAAO,IAAMvB,OAAOmB,SAASI,KAAM,IAG5I,IAAIC,GAAWxB,OAAOmB,SAASC,OAAS,IACpCX,EAAO,EACPgB,GAAU,EACVC,EAAUhC,EAAEM,QACZa,EAAc,cACdH,EAAe,GAEfF,EAAM,KACNG,EAAQjB,EAAE,iBACVsB,GAAiB,CAErBL,GAAMgB,SACFC,YAAa,cACbC,OAAQ,gBACRC,aAAc,aACdC,iBAAiB,GAGrB,IAAInB,GAAa,WACblB,EAAEsC,MACEC,KAAa,MACbC,MAAcC,SAAW,EAAGC,WAAY3B,EAAM4B,SAAW7B,GACzD8B,SAAa,OACbC,IAAa,kDACbC,WAAa,WACE,GAAR/B,GACCf,EAAE,cAAcK,UAGxB0C,QAAa,SAASP,GAClBQ,MAAQhD,EAAEwC,GACPQ,MAAMC,QACLD,MAAME,aAAc,WAChBjC,EAAMgB,UACLkB,OAAOH,OACPf,QAAQ,WAAYe,OACpBf,YAELjC,EAAE,cAAcG,UAChB4B,GAAU,GAEV/B,EAAE,cAAcoD,UAGxBC,MAAY,SAASC,EAAOC,EAAYC,GACpCxD,EAAE,cAAcoD,SAChBK,MAAMH,EAAQ,OAASC,EAAa,OAASC,MAMrDlD,QAAOmB,SAASiC,MAAQ5B,GACxBE,EAAQ2B,OAAO,WACX,GAAIC,GAAiB3C,EAAM4C,UACvB9B,GAAYC,EAAQrB,YACpBqB,EAAQ8B,SAAa7C,EAAMN,YAC3BM,EAAM6C,SAAWF,EAAeG,MAC5BhC,GAAU,EACVhB,IACAG,OAMhBc,EAAQ2B,OAAO,WACP3D,EAAEM,QAAQK,YAAc,IACxBX,EAAE,YAAYK,SAGdL,EAAE,YAAYG,YAMtBH,EAAE,YAAYgE,MAAO,WACjBvD,MAGJT,EAAE,gBAAgBgE,MAAO,WAClB1D,OAAOmB,SAASiC,MAAQ5B,EACvBxB,OAAOmB,SAASiC,KAAO5B,EAAW,MAAQ9B,EAAEiE,MAAM7C,KAAK,UAGvDN,EAAMd,EAAEiE,MAAM7C,KAAK,SACnBL,EAAO,EACPE,EAAMb,KAAK,IACXc,IACAjB,EAAaD,EAAEiE,MAAM7C,KAAK,gBAE9BX,KAmCJ,IACIyD,GAAUzC,SAAS0C,OAAOC,MAAM,MAAM,EAC3BC,UAAZH,EACCtD,EAAYsD,IAGZlE,EAAE,iBAAiBI,KAAKe,GACxBD,IAIJ,IAAIoD,GAActE,EAAE,uBAEpBsE,GAAYrC,SACRC,YAAa,cACbC,OAAQ,gBACRC,aAAc,aACdC,iBAAiB,IAIrBrC,EAAE,oBAAoBgE,MAAO,WACzB3C,KAGJ,IAAIkD,GAAevE,EAAE,iBACrBuE,GAAaP,MAAO,SAASQ,GACzBA,EAAMC,oBAGVzE,EAAE,QAAQgE,MAAO,SAASU,GACnBpD,IAAmBiD,EAAaI,GAAGD,EAAEE,SACtCvD","file":"script.min.js","sourcesContent":["jQuery(document).ready(function ($) {\r\n\r\n    // IE tweek\r\n    if (!window.location.origin) {\r\n      window.location.origin = window.location.protocol + \"//\" + window.location.hostname + (window.location.port ? ':' + window.location.port: '');\r\n    }\r\n\r\n    var homepage = window.location.origin + \"/\";\r\n    var page = 1;\r\n    var loading = true;\r\n    var $window = $(window);\r\n    var titleHeader = '/ portfolio';\r\n    var gridFilterID = '';\r\n    var rightMenuOpen = false;\r\n    var cat = null;\r\n    var $grid = $('#masonry-grid');\r\n    var mobileDropdown = false;\r\n\r\n    $grid.masonry({\r\n        columnWidth: '.grid-sizer',\r\n        gutter: '.gutter-sizer',\r\n        itemSelector: '.grid-item',\r\n        percentPosition: true\r\n    });\r\n\r\n    var load_posts = function(){\r\n        $.ajax({\r\n            type       : \"GET\",\r\n            data       : {numPosts : 9, pageNumber: page, catPosts : cat},\r\n            dataType   : \"html\",\r\n            url        : \"/wp-content/themes/MR-Portfolio/loopHandler.php\",\r\n            beforeSend : function(){\r\n                if(page != 1){\r\n                    $(\"#temp_load\").fadeIn();\r\n                }\r\n            },\r\n            success    : function(data){\r\n                $data = $(data);\r\n                if($data.length){\r\n                    $data.imagesLoaded( function() {\r\n                        $grid.masonry()\r\n                        .append($data)\r\n                        .masonry('appended', $data)\r\n                        .masonry();\r\n                    });\r\n                    $(\"#temp_load\").fadeOut();\r\n                    loading = false;\r\n                } else {\r\n                    $(\"#temp_load\").remove();\r\n                }\r\n            },\r\n            error     : function(jqXHR, textStatus, errorThrown) {\r\n                $(\"#temp_load\").remove();\r\n                alert(jqXHR + \" :: \" + textStatus + \" :: \" + errorThrown);\r\n            }\r\n        });\r\n    };\r\n\r\n    // load more masonry posts on scroll\r\n    if (window.location.href == homepage){\r\n        $window.scroll(function() {\r\n            var content_offset = $grid.offset();\r\n            if(!loading && ($window.scrollTop() +\r\n                $window.height()) > ($grid.scrollTop() +\r\n                $grid.height() + content_offset.top)) {\r\n                    loading = true;\r\n                    page++;\r\n                    load_posts();\r\n            }\r\n        });\r\n    }\r\n\r\n    // back to top of page icon\r\n    $window.scroll(function() {\r\n        if ($(window).scrollTop() > 1000) {\r\n            $(\"#topPage\").fadeIn();\r\n        }\r\n        else{\r\n            $(\"#topPage\").fadeOut();\r\n        }\r\n    });\r\n\r\n    // events\r\n\r\n    $(\"#topPage\").click( function() {\r\n        goToTop();\r\n    });\r\n\r\n    $(\".grid-filter\").click( function() {\r\n        if(window.location.href != homepage){\r\n            window.location.href = homepage + \"?c=\" + $(this).attr('value');\r\n        }\r\n        else{\r\n            cat = $(this).attr('value');\r\n            page = 1;\r\n            $grid.html('');\r\n            load_posts();\r\n            change_title($(this).attr('data-title'));\r\n        }\r\n        goToTop();\r\n    });\r\n\r\n    // functions\r\n\r\n    function change_title(title){\r\n        $('.header-title').fadeOut('fast', function(){$('.header-title').html(title);});\r\n        $('.header-title').fadeIn('fast');\r\n        window.history.pushState(\"object or string\", \"Title\", \"/\");\r\n    }\r\n\r\n    function goToTop(){\r\n        $(\"html, body\").animate({ scrollTop: 0 }, \"slow\");\r\n    }\r\n\r\n    function showSection(sectionID){\r\n        cat = sectionID;\r\n        page = 1;\r\n        gridFilterID = '#grid-filter-' + cat;\r\n        $grid.html('');\r\n        load_posts();\r\n        titleHeader = $(gridFilterID).attr('data-title');\r\n        change_title(titleHeader);\r\n    }\r\n\r\n    function toggleDropdown(){\r\n        if(mobileDropdown){\r\n            $('.header-dropdown').removeClass('open');\r\n        }else{\r\n            $('.header-dropdown').addClass('open');\r\n        }\r\n        mobileDropdown = !mobileDropdown;\r\n    }\r\n\r\n    // check URL arguments\r\n    var urlArg = \"\";\r\n    var section = location.search.split('c=')[1];\r\n    if(section !== undefined){\r\n        showSection(section);\r\n    }\r\n    else{\r\n        $('.header-title').html(titleHeader);\r\n        load_posts();\r\n    }\r\n\r\n    //search page\r\n    var $gridSearch = $('#masonry-search-grid');\r\n\r\n    $gridSearch.masonry({\r\n        columnWidth: '.grid-sizer',\r\n        gutter: '.gutter-sizer',\r\n        itemSelector: '.grid-item',\r\n        percentPosition: true\r\n    });\r\n\r\n    // mobile header dropdown menu toggle\r\n    $('.toggle-dropdown').click( function(){\r\n        toggleDropdown();\r\n    });\r\n\r\n    var headerMobile = $(\".header-mobile\");\r\n    headerMobile.click( function(event){\r\n        event.stopPropagation();\r\n    });\r\n\r\n    $(\"body\").click( function(e){\r\n        if(mobileDropdown && !headerMobile.is(e.target)){\r\n          toggleDropdown();\r\n        }\r\n      }\r\n    );\r\n});\r\n"]}